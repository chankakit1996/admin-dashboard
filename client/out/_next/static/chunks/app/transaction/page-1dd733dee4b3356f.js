(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{3906:function(e,t,o){Promise.resolve().then(o.bind(o,624))},624:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return TransactionPage}});var a=o(7437),r=o(2265),n=o(7248),l=o(1679),s=o(2653),i=o(1101),c=o(5820),d=o(98),u=o(6822),p=o(3533),b=o(3428),m=o(791),x=o(7042),f=o(2444),h=o(5600),g=o(6575),C=o(4651);let y=["className","children"],useUtilityClasses=e=>{let{classes:t}=e;return(0,h.Z)({root:["toolbarContainer"]},g.d,t)},j=(0,f.Z)("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),Z=r.forwardRef(function(e,t){let{className:o,children:r}=e,n=(0,m.Z)(e,y),l=(0,C.B)(),s=useUtilityClasses(l);return r?(0,a.jsx)(j,(0,b.Z)({ref:t,className:(0,x.Z)(o,s.root),ownerState:l},n,{children:r})):null});var v=o(2916),D=o(9630),S=o(7188),T=o(6320),k=o(9152);let I=r.forwardRef(function(e,t){let{slotProps:o={}}=e,r=o.button||{},n=o.tooltip||{},l=(0,v.Z)(),s=(0,v.Z)(),i=(0,k.l)(),c=(0,C.B)(),d=(0,D.Pp)(i,S.e);if(c.disableColumnSelector)return null;let u=d.open&&d.panelId===s;return(0,a.jsx)(c.slots.baseTooltip,(0,b.Z)({title:i.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},n,c.slotProps?.baseTooltip,{children:(0,a.jsx)(c.slots.baseButton,(0,b.Z)({ref:t,id:l,size:"small","aria-label":i.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?s:void 0,startIcon:(0,a.jsx)(c.slots.columnSelectorIcon,{})},r,{onClick:e=>{d.open&&d.openedPanelValue===T.y.columns?i.current.hidePreferences():i.current.showPreferences(T.y.columns,s,l),r.onClick?.(e)}},c.slotProps?.baseButton,{children:i.current.getLocaleText("toolbarColumns")}))}))});var P=o(3449),w=o(5675),M=o(1994),N=o(4309),L=o(8864),B=o(2564),_=o(7e3),G=o(164);let R=r.forwardRef(function(e,t){let{slotProps:o={}}=e,n=o.button||{},l=o.tooltip||{},s=(0,k.l)(),i=(0,C.B)(),c=(0,D.Pp)(s,B.EH),d=(0,P.Z)(),u=(0,P.Z)(),[p,m]=r.useState(!1),x=r.useRef(null),f=(0,w.Z)(t,x),h=[{icon:(0,a.jsx)(i.slots.densityCompactIcon,{}),label:s.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:(0,a.jsx)(i.slots.densityStandardIcon,{}),label:s.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:(0,a.jsx)(i.slots.densityComfortableIcon,{}),label:s.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],y=r.useMemo(()=>{switch(c){case"compact":return(0,a.jsx)(i.slots.densityCompactIcon,{});case"comfortable":return(0,a.jsx)(i.slots.densityComfortableIcon,{});default:return(0,a.jsx)(i.slots.densityStandardIcon,{})}},[c,i]),handleDensityUpdate=e=>{s.current.setDensity(e),m(!1)};if(i.disableDensitySelector)return null;let j=h.map((e,t)=>(0,a.jsxs)(N.Z,{onClick:()=>handleDensityUpdate(e.value),selected:e.value===c,children:[(0,a.jsx)(L.Z,{children:e.icon}),e.label]},t));return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.slots.baseTooltip,(0,b.Z)({title:s.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},l,i.slotProps?.baseTooltip,{children:(0,a.jsx)(i.slots.baseButton,(0,b.Z)({ref:f,size:"small",startIcon:y,"aria-label":s.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":p,"aria-controls":p?u:void 0,id:d},n,{onClick:e=>{m(e=>!e),n.onClick?.(e)}},i.slotProps?.baseButton,{children:s.current.getLocaleText("toolbarDensity")}))})),(0,a.jsx)(G.r,{open:p,target:x.current,onClose:()=>{m(!1)},position:"bottom-start",children:(0,a.jsx)(M.Z,{id:u,className:g._.menuList,"aria-labelledby":d,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),(0,_.Mh)(e.key)&&m(!1)},autoFocusItem:p,children:j})})]})});var A=o(4368),E=o(6909),O=o(289);function DataGridCustomToolbar(e){let{searchInput:t,setSearchInput:o,setSearch:r}=e;return(0,a.jsx)(Z,{children:(0,a.jsxs)(p.Z,{width:"100%",children:[(0,a.jsxs)(p.Z,{children:[(0,a.jsx)(I,{}),(0,a.jsx)(R,{}),(0,a.jsx)(A.Zh,{})]}),(0,a.jsx)(n.Z,{label:"Search...",sx:{mb:"0.5rem",width:"15rem"},onChange:e=>o(e.target.value),value:t,slotProps:{input:{endAdornment:(0,a.jsx)(l.Z,{position:"end",children:(0,a.jsx)(s.Z,{onClick:()=>{r(t),o("")},children:(0,a.jsx)(d.Z,{})})})}},variant:"standard"})]})})}function TransactionPage(){let e=(0,i.Z)(),[t,o]=(0,r.useState)(0),[n,l]=(0,r.useState)(20),[s,d]=(0,r.useState)({}),[p,b]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),{data:f,isFetching:h}=(0,O.ym)({page:t,pageSize:n,sort:JSON.stringify(s),search:p}),g=(0,r.useCallback)(e=>{d(e[0])},[]),C=(0,r.useCallback)(e=>{o(e.page),l(e.pageSize)},[]);return(0,a.jsxs)(c.Z,{m:"1.5rem 2.5rem",children:[(0,a.jsx)(u.HomePageHeader,{title:"TRANSACTIONS",description:"Entire list of transactions"}),(0,a.jsx)(c.Z,{height:"80vh",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:e.palette.background.alt,color:e.palette.secondary[100],borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:e.palette.primary.light},"& .MuiDataGrid-footerContainer":{backgroundColor:e.palette.background.alt,color:e.palette.secondary[100],borderTop:"none"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{color:"".concat(e.palette.secondary[200]," !important")}},children:(0,a.jsx)(E._,{loading:h,getRowId:e=>e._id,rows:f&&f.transactions||[],columns:[{field:"_id",headerName:"ID",flex:1},{field:"userId",headerName:"User ID",flex:1},{field:"createdAt",headerName:"CreatedAt",flex:1},{field:"products",headerName:"# of Products",flex:.5,sortable:!1,renderCell:e=>e.value.length},{field:"cost",headerName:"Cost",flex:1,renderCell:e=>"$".concat(Number(e.value).toFixed(2))}],rowCount:f&&f.total||0,pagination:!0,initialState:{pagination:{paginationModel:{page:t,pageSize:n}}},pageSizeOptions:[n],paginationMode:"server",sortingMode:"server",onPaginationModelChange:C,onSortModelChange:g,slots:{toolbar:DataGridCustomToolbar},slotProps:{toolbar:{searchInput:m,setSearchInput:x,setSearch:b}}})})]})}}},function(e){e.O(0,[674,699,393,909,822,971,472,744],function(){return e(e.s=3906)}),_N_E=e.O()}]);